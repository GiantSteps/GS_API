

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gsapi.GSBassmine &mdash; GS_API 1.0.3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="GS_API 1.0.3 documentation" href="index.html"/>
        <link rel="up" title="gsapi package" href="gsapi.html"/>
        <link rel="prev" title="gsapi.GSPatternTransformers" href="gsapi.GSPatternTransformers.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> GS_API
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">GS_API</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#gs-api-examples">GS-API examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="gsapi.html">gsapi package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gsapi.GSPattern.html">gsapi.GSPattern module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gsapi.GSIO.html">gsapi.GSIO module</a></li>
<li class="toctree-l2"><a class="reference internal" href="gsapi.GSStyles.html">gsapi.GSStyles</a></li>
<li class="toctree-l2"><a class="reference internal" href="gsapi.GSPatternTransformers.html">gsapi.GSPatternTransformers</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">gsapi.GSBassmine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-gsapi.GSBassmineAnalysis">gsapi.GSBassmineAnalysis module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gsapi.GSBassmineMarkov">gsapi.GSBassmineMarkov module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">GS_API</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="gsapi.html">gsapi package</a> &raquo;</li>
      
    <li>gsapi.GSBassmine</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/gsapi.GSBassmine.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gsapi-gsbassmine">
<h1>gsapi.GSBassmine<a class="headerlink" href="#gsapi-gsbassmine" title="Permalink to this headline">¶</a></h1>
<p>temporary place for documenting temporary bassmine</p>
<div class="section" id="module-gsapi.GSBassmineAnalysis">
<span id="gsapi-gsbassmineanalysis-module"></span><h2>gsapi.GSBassmineAnalysis module<a class="headerlink" href="#module-gsapi.GSBassmineAnalysis" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="gsapi.GSBassmineAnalysis.strip_suffix">
<code class="descclassname">gsapi.GSBassmineAnalysis.</code><code class="descname">strip_suffix</code><span class="sig-paren">(</span><em>filename</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineAnalysis.html#strip_suffix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineAnalysis.strip_suffix" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip off the suffix of the given filename or string. Extracted from madmom</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; (str) Filename or string to strip.</li>
<li><strong>suffix</strong> &#8211; (str, optional) Suffix to be stripped off (e.g. &#8216;.txt&#8217; including the dot).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Filename or string without suffix.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">filename</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineAnalysis.match_files">
<code class="descclassname">gsapi.GSBassmineAnalysis.</code><code class="descname">match_files</code><span class="sig-paren">(</span><em>filename</em>, <em>match_list</em>, <em>suffix=None</em>, <em>match_suffix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineAnalysis.html#match_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineAnalysis.match_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Match a filename or string against a list of other filenames or strings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> &#8211; (str) Filename or string to strip.</li>
<li><strong>match_list</strong> &#8211; (list) Match to this list of filenames or strings.</li>
<li><strong>suffix</strong> &#8211; (str, optional) Suffix of <cite>filename</cite> to be ignored.</li>
<li><strong>match_suffix</strong> &#8211; Match only files from <cite>match_list</cite> with this suffix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(list) List of matched files.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">matches</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineAnalysis.search_files">
<code class="descclassname">gsapi.GSBassmineAnalysis.</code><code class="descname">search_files</code><span class="sig-paren">(</span><em>path</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineAnalysis.html#search_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineAnalysis.search_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of files in <cite>path</cite> matching the given <cite>suffix</cite> or filters
the given list to include only those matching the given suffix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> &#8211; (str or list) Path or list of files to be searched / filtered.</li>
<li><strong>suffix</strong> &#8211; (str, optional) Return only files matching this suffix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(list) List of files.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">file_list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineAnalysis.write2pickle">
<code class="descclassname">gsapi.GSBassmineAnalysis.</code><code class="descname">write2pickle</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>path='../../models/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineAnalysis.html#write2pickle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineAnalysis.write2pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Write numpy array in pickle format to the selected location</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; name of the output pickle file</li>
<li><strong>data</strong> &#8211; numpy array to be exported to pickle format</li>
<li><strong>path</strong> &#8211; (optional) output folder path</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineAnalysis.corpus_analysis">
<code class="descclassname">gsapi.GSBassmineAnalysis.</code><code class="descname">corpus_analysis</code><span class="sig-paren">(</span><em>bass_path</em>, <em>drum_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineAnalysis.html#corpus_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineAnalysis.corpus_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>TEST : This functions implement the rhythmic analysis used by Bassmine (bassline generator). The input is a corpus of related
Bass and Drum MIDI files.
Input files must match their names : i.e. bass_[trackname].mid , drums_[trackname].mid</p>
<p>The algorithm computes a Markov model of the temporal context (probabilities of transitions between bass beat patterns)
and the interlocking context between bass and kick-drum (probabilities of concurrency between bass and kick-drum patterns)</p>
<p>Markovian models are computed by GSBassmineMarkov module.</p>
<p>[The pitch model is still a work in progress]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bass_path</strong> &#8211; folder with bass midi files</li>
<li><strong>drum_path</strong> &#8211; folder with drums midi files</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">instance of GSBassmineMarkov.MarkovModel class. It contains initial, temporal and interlocking MTM
kick_patterns: list of kick patterns in collection in Markov dictionary formatted ids</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#gsapi.GSBassmineMarkov.MarkovModel.rhythm_model" title="gsapi.GSBassmineMarkov.MarkovModel.rhythm_model">rhythm_model</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-gsapi.GSBassmineMarkov">
<span id="gsapi-gsbassminemarkov-module"></span><h2>gsapi.GSBassmineMarkov module<a class="headerlink" href="#module-gsapi.GSBassmineMarkov" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="gsapi.GSBassmineMarkov.normalize">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">normalize</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#normalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize matrix by rows</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a</strong> &#8211; matrix (2D)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">normalized matrix</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">a</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.indices">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">indices</code><span class="sig-paren">(</span><em>a</em>, <em>func</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return indices in an array matching to a given function</p>
<p>Examples: indices(array, lambda x: x &lt;= 1)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> &#8211; array, list</li>
<li><strong>func</strong> &#8211; lambda function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Indices of &#8216;a&#8217; matching lambda function</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.pdf_sampling">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">pdf_sampling</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#pdf_sampling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.pdf_sampling" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="gsapi.GSBassmineMarkov.MarkovModel">
<em class="property">class </em><code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">MarkovModel</code><span class="sig-paren">(</span><em>model_size</em>, <em>order=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to operate with markov models. Internal function used by GSBassmineAnalysis module.</p>
<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.model_size">
<code class="descname">model_size</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.model_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary size of the model</p>
</dd></dl>

<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.normalized">
<code class="descname">normalized</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.normalized" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean to control if the model has been normalized</p>
</dd></dl>

<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.support_temporal">
<code class="descname">support_temporal</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.support_temporal" title="Permalink to this definition">¶</a></dt>
<dd><p>internal matrix to compute markov model</p>
</dd></dl>

<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.support_initial">
<code class="descname">support_initial</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.support_initial" title="Permalink to this definition">¶</a></dt>
<dd><p>internal matrix to compute markov model</p>
</dd></dl>

<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.support_interlocking">
<code class="descname">support_interlocking</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.support_interlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>internal matrix to compute markov model</p>
</dd></dl>

<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.initial_model">
<code class="descname">initial_model</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.initial_model" title="Permalink to this definition">¶</a></dt>
<dd><p>matrix to store initial MTM</p>
</dd></dl>

<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.temporal_model">
<code class="descname">temporal_model</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.temporal_model" title="Permalink to this definition">¶</a></dt>
<dd><p>matrix to store temporal MTM</p>
</dd></dl>

<dl class="attribute">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.interlocking_model">
<code class="descname">interlocking_model</code><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.interlocking_model" title="Permalink to this definition">¶</a></dt>
<dd><p>matrix to store interlocking MTM</p>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.add_temporal">
<code class="descname">add_temporal</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.add_temporal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.add_temporal" title="Permalink to this definition">¶</a></dt>
<dd><p>Create markov transition matrix given a sequence</p>
<p>First element counts are stored in self.initial_model
Rest of elements feed the transition matrix (no time-series)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pattern</strong> &#8211; list or array with idx of the state dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.add_interlocking">
<code class="descname">add_interlocking</code><span class="sig-paren">(</span><em>patt_kick</em>, <em>patt_bass</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.add_interlocking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.add_interlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Create interlocking (concurrency) markov matrix given two sequences</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patt_kick</strong> &#8211; kick drum pattern (anchor)</li>
<li><strong>patt_bass</strong> &#8211; bassline pattern</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.update_interlocking">
<code class="descname">update_interlocking</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.update_interlocking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.update_interlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>internal function to update interlocking matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> &#8211; row (anchor)</li>
<li><strong>y</strong> &#8211; col (bass)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.update_temporal">
<code class="descname">update_temporal</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.update_temporal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.update_temporal" title="Permalink to this definition">¶</a></dt>
<dd><p>internal function to update temporal matrix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x</strong> &#8211; row (past)</li>
<li><strong>y</strong> &#8211; col (present)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.update_initial">
<code class="descname">update_initial</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.update_initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.update_initial" title="Permalink to this definition">¶</a></dt>
<dd><p>internal function to update initial probabilites</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong> &#8211; row (probabilities)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.normalize_model">
<code class="descname">normalize_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.normalize_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.normalize_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize matrices</p>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.get_initial">
<code class="descname">get_initial</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.get_initial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.get_initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Get initial probabilites</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gsapi.GSBassmineMarkov.MarkovModel.initial_model" title="gsapi.GSBassmineMarkov.MarkovModel.initial_model">initial_model</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.get_temporal">
<code class="descname">get_temporal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.get_temporal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.get_temporal" title="Permalink to this definition">¶</a></dt>
<dd><p>Get temporal model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2D matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gsapi.GSBassmineMarkov.MarkovModel.temporal_model" title="gsapi.GSBassmineMarkov.MarkovModel.temporal_model">temporal_model</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.get_interlocking">
<code class="descname">get_interlocking</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.get_interlocking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.get_interlocking" title="Permalink to this definition">¶</a></dt>
<dd><p>Get interlocking model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2D matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#gsapi.GSBassmineMarkov.MarkovModel.interlocking_model" title="gsapi.GSBassmineMarkov.MarkovModel.interlocking_model">interlocking_model</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.rhythm_model">
<code class="descname">rhythm_model</code><span class="sig-paren">(</span><em>_path='output/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.rhythm_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.rhythm_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="gsapi.GSBassmineMarkov.MarkovModel.pitch_model">
<code class="descname">pitch_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#MarkovModel.pitch_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.MarkovModel.pitch_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Build pitch model</p>
<p>[work in progress...]</p>
<p>Takes first note an assume it as root note. Other notes are represented as intervals relative to root (first note)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">{&#8216;interval&#8217;: , &#8216;probs&#8217;}, {},{},...}</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dictionary{0</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.constrainMM">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">constrainMM</code><span class="sig-paren">(</span><em>markov_model</em>, <em>target</em>, <em>_path='output/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#constrainMM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.constrainMM" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute non-homogeneuous markov model (NHMM) based on interlocking constraint.
Given a target pattern it constraint the original model and ensure arc-consistency</p>
<p>This function is also implemented as a pyext class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>markov_model</strong> &#8211; MarkovModel instance (output from GSBassmineUtils.corpus_analysis())</li>
<li><strong>target</strong> &#8211; Target pattern for interlocking (kick) represented by its pattern ids.</li>
<li><strong>_path</strong> &#8211; Path to where the Markov models will be stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Interlocking model as dictionary in JSON format</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.variationMM">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">variationMM</code><span class="sig-paren">(</span><em>markov_model</em>, <em>target</em>, <em>_path='output/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#variationMM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.variationMM" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute non-homogeneuous markov model (NHMM) based on variation constraint.
Given a target Variation Mask(VM) it constraint the original model and ensure arc-consistency</p>
<p class="rubric">Examples</p>
<p>VM should be a list representing a pattern (id formatted) with negative numbers on those frames to variate.
Positive values will be preserved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>markov_model</strong> &#8211; MarkovModel instance (output from GSBassmineUtils.corpus_analysis())</li>
<li><strong>target</strong> &#8211; Variation Mask (list with negative numbers indicating variation of that time frame)</li>
<li><strong>_path</strong> &#8211; Path to where the Markov models will be stored</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Variation model as a dictionary in JSON format</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.markov_tm_2dict">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">markov_tm_2dict</code><span class="sig-paren">(</span><em>a</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#markov_tm_2dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.markov_tm_2dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert markov transition matrix to dictionary of sets.
Compact representation to avoid sparse matrices and better performance in the constrain model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>a</strong> &#8211; MarkovModel temporal/interlocking/pitch matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dictionary{}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.createMarkovGenerationDictionary">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">createMarkovGenerationDictionary</code><span class="sig-paren">(</span><em>toJSON=False</em>, <em>_path='output/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#createMarkovGenerationDictionary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.createMarkovGenerationDictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal function to build a dictionary relating binarized patterns into start times (in beats)
:param toJSON: boolean. If true it exports to JSON
:param _path: path to store the dictionary as JSON</p>
<p>Returns: Pattern dictionary</p>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.generateBassRhythm">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">generateBassRhythm</code><span class="sig-paren">(</span><em>markov_model</em>, <em>beat_length=8</em>, <em>target=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#generateBassRhythm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.generateBassRhythm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to generate a rhythmic bassline. If no target given the system assume no constraints and uses the regular
Markov model (computed by MarkovModel.rhythm_model()).
If target given it is assumed as target constraint for interlocking model.
:param markov_model: output from  MarkovModel.rhythm_model()
:param beat_length: desired length of the generated pattern
:param target: Pattern used as constraint in Interlocking Model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">GSPattern containing bassline onset pattern</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bassline</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gsapi.GSBassmineMarkov.generateBassRhythmVariation">
<code class="descclassname">gsapi.GSBassmineMarkov.</code><code class="descname">generateBassRhythmVariation</code><span class="sig-paren">(</span><em>markov_model</em>, <em>target_pattern</em>, <em>variation_mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gsapi/GSBassmineMarkov.html#generateBassRhythmVariation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gsapi.GSBassmineMarkov.generateBassRhythmVariation" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that implements a variation model given an already generated pattern. Based on the variation mask it creates
a Markov model that preserve desired beat measures while it models &#8220;variation&#8221; beats to be stylistically consistent.
:param markov_model: output from  MarkovModel.rhythm_model()
:param target_pattern: GSPattern, for instance output from generateBassRhythm()
:param variation_mask: List of the same length of the target_pattern(in beats). Positions with value 1 will be preserved,
:param those with -1 will vary.:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">generated GSPattern</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bassline</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="gsapi.GSPatternTransformers.html" class="btn btn-neutral" title="gsapi.GSPatternTransformers" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, MTG/GiantSteps.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>